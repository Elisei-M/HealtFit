<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <title>HealthFit - Home</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Navbar -->
  <header>
    <nav>
      <ul class="navbar">
        <!-- Home este întotdeauna vizibil -->
        <li><a href="index.html">Home</a></li>

        <!-- Login (doar pt. user neconectat) -->
        <li id="nav-login"><a href="login.html">Login</a></li>

        <!-- Profile (doar pt. user conectat) -->
        <li id="nav-profile"><a href="profile.html">Profile</a></li>

        <!-- Logout (doar pt. user conectat) -->
        <li id="nav-logout"><button>Logout</button></li>
      </ul>
    </nav>
  </header>

  <!-- Conținut principal (exemplu) -->
  <main>
    <h1>Bine ai venit la HealthFit!</h1>
    <p>Aceasta este pagina principală a aplicației tale de fitness și nutriție.</p>
    <p>Pentru a începe, creează-ți un cont sau autentifică-te dacă ai deja unul (vezi <strong>Login</strong> în meniu).</p>
  </main>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
    import { 
      getAuth, 
      onAuthStateChanged, 
      signOut 
    } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-auth.js";

    // Configurația Firebase (înlocuiește cu datele tale)
    const firebaseConfig = {
      apiKey: "AIzaSyDkACBZ_7DJOSuko8hIHoBCGrz3EllW-GY",
      authDomain: "healthfit-9de3f.firebaseapp.com",
      projectId: "healthfit-9de3f",
      storageBucket: "healthfit-9de3f.appspot.com",
      messagingSenderId: "1071597823999",
      appId: "1:1071597823999:web:a679009ca5178340f9e9ca"
    };

    // Inițializare Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Referințe la elementele din navbar
    const navLogin = document.getElementById("nav-login");
    const navProfile = document.getElementById("nav-profile");
    const navLogout = document.getElementById("nav-logout");

    // Ascundem butoanele la încărcare
    navLogin.style.display = "none";
    navProfile.style.display = "none";
    navLogout.style.display = "none";

    // Detectăm schimbarea stării de autentificare
    onAuthStateChanged(auth, (user) => {
      if (user) {
        // Utilizator AUTENTIFICAT → arătăm Profile și Logout
        navLogin.style.display = "none";
        navProfile.style.display = "block";
        navLogout.style.display = "block";
      } else {
        // Utilizator NEAUTENTIFICAT → arătăm Login
        navLogin.style.display = "block";
        navProfile.style.display = "none";
        navLogout.style.display = "none";
      }
    });

    // Deconectare
    navLogout.onclick = function() {
      signOut(auth).then(() => {
        // Opțional: Reîncărcăm pagina după logout
        window.location.reload();
      });
    };
  </script>
</body>
</html>
